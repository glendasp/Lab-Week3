<!--
In Essentials Part 2, you used user input to build HTML elements. On this page, try entering some
HTML characters in the input box. What happens? How could this cause problems for a website? What
could you do to account for this?

I tested by entering the following code bellow and noticed that the browser interpreted as html code
and added a new list to the list. This is not good since allow user to use html code and it might be
use with bad intention. A way to solve this problem would be by replacing these special characters
with space or validate with an error message as suggested in lab3-Adv3.

code typed into the input:
<ul> <li>new</li></ul>

result showed:
List:
       1. Â° add

-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<p>Add an element: </p>

<input type="text" id="text" name="userElement" onkeypress="validadeInput()" max="50"/>

<button id="add" onclick="afterButton()"> Add new element </button>

<p> List: </p>
<ol id="list"> </ol>



<script>
    // This function checks firstly if input is empty, if so,
    // it shows an error message.
    // The second validates if input is longer than 50 characters.
    // After validating, it adds the new element to the list.
    // Functions are called when user clicks the "add" button.

    //var button = document.getElementById("add").addEventListener("click", CheckInput);


    //check if empty
    function afterButton(){


        var userElement = document.getElementById("text").value;
        var text = document.getElementById("text").value;
        // var button = document.getElementById("add").addEventListener("click", addToList);

        if (userElement == null || userElement == "") {//*** This part of the code was found on an example form w3schools
            alert("Please, enter an element."); //***  The example from w3schools finish here.
            return false;

        }else if(text.length > 50) {
            alert("Too long! Please enter try again.");
            return false;///Validates if more than 50 characters
        }else {
            var userElement = document.getElementById("text").value;
            var showlist = document.getElementById("list");
            var newlist = document.createElement("li");
            newlist.innerHTML = userElement;
            showlist.appendChild(newlist);
            console.log(newlist);
        }

    }

    function validadeInput(){
        var userElement = document.getElementById("text").value;
        var text = document.getElementById("text").value;

        if (userElement == '&' || userElement == '<' || userElement == ">"
                || userElement == "'" || userElement == "'"){

            alert('The following carachters are not allowed:  < > & \' and " ');
            // return false;
            event.returnValue = false;

        }

    }


</script>
</body>
</html>